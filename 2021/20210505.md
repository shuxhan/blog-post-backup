---
title: 关于服务器cpu使用率100%的处理过程
date: 2021-05-05
category: 编程技术
tag: [服务器]
---

问题源于三天前，一个朋友突然跟我说网站半天进不去，一直处于加载状态，控制台也有很多资源加载不出来。

我自己看了一下，果然如此，简单看了一下监控，每次访问的时候，cpu突然爆增到 100%， 过了一会才降为正常速度。

开始我以为是定时任务的问题，因为之前设置了几个定时任务，备份数据库等，我在想是不是这方面除了问题，先停止之后重启服务器，发现问题还是没有解决。

然后我就想看看访问时进程是什么样的，我使用的是 `FinalShell` 工具，我在访问博客的时候进入 FinalShell 查看，页面就类似于下面这些。

![](https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@04634fe8aa06a16f74a0c224dd10d0fe92993db9/2021/05/05/0ec62c369e7536a1492bb435bd46dfd6.png)

当时 nginx 服务的 cpu 使用率突然增加到 80% 以上，我估摸着应该是这里出了问题，然后就在服务器重启 nginx服务。

之后再访问博客，就没有任何问题了，都是秒进。
