---
title: 一个关于position的问题及处理
date: 2020-07-12
categories: 前端技术
toc: true
---

这是我无意中在论坛中看到的一个问题，觉得挺有意思，就自己做了一个方案,个人感觉有点死板，但是效果也可以实现。上下拉浏览器滚动条时，层的位置固定不变（即悬浮效果）；左右拉浏览器滚动条，层要跟着文档流走（即不是悬浮效果）。
<!-- more -->
## 1 问题

***CSS层 要求***

1. 上下拉浏览器滚动条时，层的位置固定不变（即悬浮效果）
2. 左右拉浏览器滚动条，层要跟着文档流走（即不是悬浮效果）

![](https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/19ae4469-6b93-454d-900e-1a5170473bb4.png)

## 2 解决方案

我对他的代码进行了两个地方的修改

1. 将position属性改为sticky
2. 将效果测试层div放置最上面

下面是代码演示

![](https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/ddf3133d-f65b-4773-888b-5b74b904a82c.png)

代码效果就可以实现上下滑动浏览器滚动条时，效果div悬浮，保持不动；左右拉浏览器滚动条时，效果div随文档进行移动。

## 3 其他

但是在检查页面的时候我又发现一个问题，left：50px 的时候，拖动左右滚动条，浏览器会先走50px的距离，测试层保持不动；走完50px的时候，测试层才会随之移动。

我把`left设为0`，发现没有这种问题了，测试层和浏览器同步移动。但是样式可能不太美观，希望有小伙伴能够提出解决办法。

![](https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/6bdb0f3f-6802-40cf-98b0-85d907a1f860.gif)

